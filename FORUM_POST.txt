========================================
FORUM RESPONSE TO POST
========================================

**Thread:** API for Accounting Modules
**URL:** https://discuss.frappe.io/t/api-for-accounting-modules/1390
**Original Question (2014):** How to post entries to accounting module via API without creating duplicate documents?

========================================
RESPONSE TEXT (copy below):
========================================

**Yes!** ERPNext provides comprehensive REST APIs for direct accounting operations. You can post entries to GL accounts without creating duplicate documents in ERPNext.

## Quick Answer

Use the **Journal Entry** API to post directly to GL accounts:

```python
import requests

# Configuration
BASE_URL = "https://your-instance.erpnext.com"
API_KEY = "your_api_key"
API_SECRET = "your_api_secret"

# Direct GL posting without creating PO in ERPNext
url = f"{BASE_URL}/api/resource/Journal Entry"

payload = {
    "doctype": "Journal Entry",
    "posting_date": "2024-11-01",
    "company": "Your Company",
    "user_remark": "From External PO System - PO#12345",
    "accounts": [
        {
            "account": "Inventory - YC",
            "debit_in_account_currency": 10000,
            "credit_in_account_currency": 0
        },
        {
            "account": "Accounts Payable - YC",
            "debit_in_account_currency": 0,
            "credit_in_account_currency": 10000
        }
    ]
}

headers = {
    "Authorization": f"token {API_KEY}:{API_SECRET}",
    "Content-Type": "application/json"
}

response = requests.post(url, json=payload, headers=headers)
entry = response.json()['data']

# Submit to post to GL
requests.put(
    f"{BASE_URL}/api/resource/Journal Entry/{entry['name']}",
    json={"docstatus": 1},
    headers=headers
)
```

## Complete Integration Guide

I've created a comprehensive open-source guide with working code, architectural patterns, and migration tools:

**GitHub:** https://github.com/senguttuvang/erpnext-accounting-integration

**Features:**
âœ… Direct GL posting without duplicate documents
âœ… Multi-currency support with forex gain/loss
âœ… Batch processing patterns
âœ… Migration tools (with Beancount example)
âœ… Financial reporting (Trial Balance, P&L, Balance Sheet)
âœ… Complete architectural guide
âœ… Error handling & retry logic
âœ… Production-ready code

**Quick Example - Multi-Currency:**

```python
# Revenue in USD, company in INR
client.create_journal_entry(
    posting_date="2024-11-01",
    company="Your Company",
    multi_currency=True,
    accounts=[
        {
            "account": "Accounts Receivable - USD",
            "debit_in_account_currency": 5000,  # $5000
            "account_currency": "USD",
            "exchange_rate": 83.50  # â†’ â‚¹417,500 in GL
        },
        {
            "account": "Sales Revenue",
            "credit_in_account_currency": 5000,
            "account_currency": "USD",
            "exchange_rate": 83.50
        }
    ]
)
```

## Key Benefits

1. **No Duplicate Data** - External system remains source of truth
2. **Flexible Integration** - Any system can integrate via REST
3. **Full Accounting** - Multi-currency, double-entry, financial reports
4. **Complete Audit Trail** - All entries logged with external references

## Repository Structure

```
erpnext-accounting-integration/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ erpnext_client.py          # Core API client
â”‚   â”œâ”€â”€ examples/                   # Working examples
â”‚   â”œâ”€â”€ reporting/                  # Financial reports
â”‚   â””â”€â”€ migration/                  # Migration tools
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ARCHITECTURE.md             # System design patterns
â”‚   â”œâ”€â”€ API_GUIDE.md                # API deep-dive
â”‚   â””â”€â”€ COOKBOOK.md                 # Common recipes
â””â”€â”€ examples/
    â””â”€â”€ sample_data/                # Real-world examples
```

## Example Use Cases

The guide includes working examples for:
- E-commerce platform â†’ Daily sales to ERPNext
- External PO system â†’ Purchase accounting
- Payment processors â†’ Payment reconciliation
- Multi-currency platforms â†’ Forex accounting
- Migration from other accounting systems

**Documentation:** Complete architectural guide explaining:
- Integration patterns (direct GL, document-based, hybrid)
- Multi-currency architecture
- Error handling strategies
- Performance considerations
- Security best practices

**Check it out:** https://github.com/senguttuvang/erpnext-accounting-integration

Hope this helps! The API is much more mature now (2024) than in 2014. ðŸŽ‰

========================================
END OF RESPONSE
========================================

Alternative Short Version (if character limit):

**Yes!** Use the Journal Entry API for direct GL posting without creating duplicate documents:

```python
POST /api/resource/Journal Entry
{
    "posting_date": "2024-11-01",
    "company": "Your Company",
    "user_remark": "External PO#12345",
    "accounts": [
        {"account": "Inventory", "debit": 10000},
        {"account": "Payable", "credit": 10000}
    ]
}
```

Complete guide with working code, multi-currency, migration tools:
https://github.com/senguttuvang/erpnext-accounting-integration

âœ… Direct GL posting
âœ… Multi-currency
âœ… Batch processing
âœ… Financial reports
âœ… Complete documentation
